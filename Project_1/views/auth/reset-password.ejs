<!DOCTYPE html>
<html lang="en">
<head>
  <title><%= pageTitle %></title>
  <link rel="stylesheet" href="/styles/output.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', sans-serif; }
    .glass-effect { backdrop-filter: blur(10px); }
    .hover-lift { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
    .hover-lift:hover { transform: translateY(-2px); }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-800 flex items-center justify-center">
  <form action="/auth/reset-password" method="POST" class="bg-white/90 shadow-xl rounded-xl px-8 py-10 w-full max-w-md" novalidate>
    <h1 class="text-3xl font-bold text-center text-indigo-900 mb-8 tracking-tight"><%= pageTitle %></h1>
    <div class="space-y-6">
      <%-include('../partials/error-message') %>

      <div>
        <label for="email" class="block text-sm font-medium text-indigo-900 mb-1">Email</label>
        <input 
          type="email" 
          name="email" 
          value="<%=email %>"
          id="email"
          placeholder="Enter your email" 
          class="w-full px-4 py-2 rounded-lg border <%= hasErrors ? 'border-red-400' : 'border-indigo-300' %> focus:outline-none focus:ring-2 <%= hasErrors ? 'focus:ring-red-500' : 'focus:ring-indigo-500' %> transition"
        >
      </div>

      <div>
        <label for="otp" class="block text-sm font-medium text-indigo-900 mb-1">OTP Code</label>
        <input 
          type="text" 
          name="otp" 
          value="<%=typeof oldInput !== 'undefined' ? oldInput.otp : '' %>"
          id="otp"
          placeholder="Enter 6-digit OTP" 
          maxlength="6"
          class="w-full px-4 py-2 rounded-lg border <%= hasErrors ? 'border-red-400' : 'border-indigo-300' %> focus:outline-none focus:ring-2 <%= hasErrors ? 'focus:ring-red-500' : 'focus:ring-indigo-500' %> transition"
        >
        <p class="text-xs text-gray-500 mt-1">Check your email for the OTP code</p>
      </div>

      <div>
        <label for="password" class="block text-sm font-medium text-indigo-900 mb-1">New Password</label>
        <input 
          type="password" 
          name="password" 
          value="<%=typeof oldInput !== 'undefined' ? oldInput.password : '' %>"
          id="password"
          placeholder="Enter new password" 
          class="w-full px-4 py-2 rounded-lg border <%= hasErrors ? 'border-red-400' : 'border-indigo-300' %> focus:outline-none focus:ring-2 <%= hasErrors ? 'focus:ring-red-500' : 'focus:ring-indigo-500' %> transition"
        >
      </div>

      <div>
        <label for="confirmPassword" class="block text-sm font-medium text-indigo-900 mb-1">Confirm New Password</label>
        <input 
          type="password" 
          name="confirmPassword" 
          value="<%=typeof oldInput !== 'undefined' ? oldInput.confirmPassword : '' %>"
          id="confirmPassword"
          placeholder="Confirm new password" 
          class="w-full px-4 py-2 rounded-lg border <%= hasErrors ? 'border-red-400' : 'border-indigo-300' %> focus:outline-none focus:ring-2 <%= hasErrors ? 'focus:ring-red-500' : 'focus:ring-indigo-500' %> transition"
        >
      </div>

      <!-- Password Requirements -->
      <div class="bg-indigo-50 border border-indigo-200 rounded-lg p-4 mb-2">
        <h2 class="text-sm font-semibold text-indigo-900 mb-2">Password Requirements</h2>
        <ul class="list-disc list-inside text-xs text-indigo-800 space-y-1">
          <li>At least 6 characters long</li>
          <li>Contains at least one uppercase letter</li>
          <li>Contains at least one lowercase letter</li>
          <li>Contains at least one special character</li>
        </ul>
      </div>

      <div>
        <input 
          type="submit" 
          value="Reset Password"
          class="w-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-semibold py-2 rounded-lg shadow-md hover:from-indigo-700 hover:to-purple-700 transition"
        >
      </div>

      <div class="text-center">
        <a href="/auth/login" class="text-sm text-indigo-600 hover:text-indigo-800 transition">
          Back to Login
        </a>
      </div>
    </div>
  </form>
</body>
</html>
